(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{203:function(e,a,t){e.exports=t(320)},281:function(e,a){},320:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(12),c=t.n(i),l=t(74),s=t(52),o=t(95),m=t(75),u=t(96),f=t(187),p=t(9),d=t(94),g=t(365),h=t(367),v=t(104),w=t(368),E=t(166),b=t.n(E);function R(e){var a=e.classes;return r.a.createElement(g.a,{position:"fixed",className:a.appBar},r.a.createElement(h.a,null,r.a.createElement(w.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"Menu"},r.a.createElement(b.a,null)),r.a.createElement(v.a,{variant:"h6",className:a.title},"360 Media Viewer")))}var j=t(376),x=t(369),y=t(373),O=t(178),I=t.n(O),P=t(186),C=t(374),M=t(375);var N=function(e){var a=e.handleChange,t=e.classes;return r.a.createElement(C.a,null,r.a.createElement(M.a,{title:"Upload Media"}),r.a.createElement(P.a,{onChange:a,acceptedFiles:["image/jpeg","image/jpg","image/png","image/bmp"],showPreviews:!0,showPreviewsInDropzone:!1,maxFileSize:1e8,dropzoneParagraphClass:t.paragraph,filesLimit:10}))},S=t(169),k=t.n(S);function B(e){var a=e.files,t=e.updateRow,n=e.removeRow,i=a.map(function(e,a){return{number:a+1,name:e.name,date:e.lastModifiedDate}});return r.a.createElement("div",null,r.a.createElement(k.a,{title:"Processed files",columns:[{title:"#",field:"number",type:"numeric",editable:"never"},{title:"Name",field:"name"},{title:"Date",field:"date",type:"date",editable:"never"}],data:i,options:{search:!1},editable:{onRowUpdate:function(e,a){return new Promise(function(n){setTimeout(function(){n(),t(e,i.indexOf(a))},600)})},onRowDelete:function(e){return new Promise(function(a){setTimeout(function(){a(),n(i.indexOf(e))},600)})}}}))}var L=r.a.forwardRef(function(e,a){return r.a.createElement(d.a,Object.assign({innerRef:a,to:"/viewer"},e))});var U=function(e){var a=e.handleChange,t=e.updateRow,n=e.removeRow,i=e.files,c=e.classes;return r.a.createElement(j.a,{maxWidth:"lg",className:c.container},r.a.createElement(x.a,{container:!0,justify:"center",alignItems:"center",spacing:3},r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(N,{handleChange:a,classes:c})),r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(B,{files:i,updateRow:t,removeRow:n})),r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"contained",color:"primary",className:c.button,component:L},"Upload",r.a.createElement(I.a,{className:c.rightIcon})))))},z=t(185),D=t(182),Y=t.n(D),A=t(184),F=t.n(A),G=t(183),T=function(e){function a(e){var t;Object(l.a)(this,a);var n=e.files;return(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).savePanoImage=function(e,a){var t=a.current.getViewer(),n=t.getRenderer().render(t.getPitch()/180*Math.PI,t.getYaw()/180*Math.PI,t.getHfov()/180*Math.PI,{returnImage:!0});Object(G.saveAs)(n,e)},t.references=Array(n.length).fill(0).map(function(){return r.a.createRef()}),t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.classes,n=a.files;return r.a.createElement(j.a,{fixed:!0},r.a.createElement(x.a,{container:!0,justify:"center",alignItems:"center",spacing:3},n.map(function(a,n){return r.a.createElement(x.a,{item:!0,xs:12,key:URL.createObjectURL(a)},r.a.createElement(C.a,{className:t.card},r.a.createElement(M.a,{title:a.name,subheader:r.a.createElement(Y.a,{format:"D/M/YYYY"},a.lastModified),action:r.a.createElement(w.a,{"aria-label":"snapshot",onClick:function(){return e.savePanoImage(a.name,e.references[n])}},r.a.createElement(F.a,null))}),r.a.createElement(z.a,{ref:e.references[n],width:"100%",height:"500px",image:URL.createObjectURL(a),pitch:10,yaw:180,hfov:110,compass:!0,autoLoad:!0})))})))}}]),a}(n.Component),J=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={files:[]},t.handleChange=function(e){t.setState({files:e})},t.updateRow=function(e,a){var n=t.state.files,r=new File([n[a]],e.name);n.splice(a,1,r),t.setState({files:n})},t.removeRow=function(e){var a=t.state.files;a.splice(e,1),t.setState({files:a})},t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes,a=this.state.files;return r.a.createElement("div",{className:e.root},r.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),r.a.createElement(R,{classes:e}),r.a.createElement("div",null,r.a.createElement(d.b,null,r.a.createElement(U,{handleChange:this.handleChange,updateRow:this.updateRow,removeRow:this.removeRow,files:a,classes:e,default:!0}),r.a.createElement(T,{files:a,path:"/viewer",classes:e}))))}}]),a}(n.Component),V=Object(p.a)(function(e){return{root:{display:"flex",flexGrow:1},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100%",overflow:"auto",padding:e.spacing(8,0,6)},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},paragraph:Object(f.a)({},e.typography.body1),container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},iconSmall:{fontSize:20}}})(J);c.a.render(r.a.createElement(V,null),document.getElementById("root"))}},[[203,1,2]]]);
//# sourceMappingURL=main.1fc6896e.chunk.js.map