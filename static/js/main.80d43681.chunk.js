(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{203:function(e,a,t){e.exports=t(320)},281:function(e,a){},320:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(12),c=t.n(i),o=t(74),l=t(52),s=t(95),m=t(75),u=t(96),f=t(366),p=t(368),d=t(369),g=t(104),h=t(370),v=t(165),w=t.n(v),E=Object(f.a)(function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}});function b(){var e=E();return r.a.createElement(p.a,{position:"fixed",className:e.appBar},r.a.createElement(d.a,null,r.a.createElement(h.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"Menu"},r.a.createElement(w.a,null)),r.a.createElement(g.a,{variant:"h6",className:e.title},"360 Media Viewer")))}var R=t(9),j=t(378),O=t(371),x=t(375),y=t(178),I=t.n(y),P=t(94),C=t(187),M=t(186),N=t(376),S=t(377),B=Object(f.a)(function(e){return{paragraph:Object(C.a)({},e.typography.body1)}});var L=function(e){var a=e.handleChange,t=B();return r.a.createElement(N.a,null,r.a.createElement(S.a,{title:"Upload Media"}),r.a.createElement(M.a,{onChange:a,acceptedFiles:["image/jpeg","image/jpg","image/png","image/bmp"],showPreviews:!0,showPreviewsInDropzone:!1,maxFileSize:1e8,dropzoneParagraphClass:t.paragraph,filesLimit:10}))},k=t(169),z=t.n(k);function U(e){var a=e.files,t=e.updateRow,n=e.removeRow,i=a.map(function(e,a){return{number:a+1,name:e.name,date:e.lastModifiedDate}});return r.a.createElement("div",null,r.a.createElement(z.a,{title:"Processed files",columns:[{title:"#",field:"number",type:"numeric",editable:"never"},{title:"Name",field:"name"},{title:"Date",field:"date",type:"date",editable:"never"}],data:i,options:{search:!1},editable:{onRowUpdate:function(e,a){return new Promise(function(n){setTimeout(function(){n(),t(e,i.indexOf(a))},600)})},onRowDelete:function(e){return new Promise(function(a){setTimeout(function(){a(),n(i.indexOf(e))},600)})}}}))}var D=Object(f.a)(function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},iconSmall:{fontSize:20}}}),Y=r.a.forwardRef(function(e,a){return r.a.createElement(P.a,Object.assign({innerRef:a,to:"/viewer"},e))});var T=function(e){var a=D(),t=e.handleChange,n=e.updateRow,i=e.removeRow,c=e.files;return r.a.createElement(j.a,{maxWidth:"lg",className:a.container},r.a.createElement(O.a,{container:!0,justify:"center",alignItems:"center",spacing:3},r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(L,{handleChange:t})),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(U,{files:c,updateRow:n,removeRow:i})),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(x.a,{variant:"contained",color:"primary",className:a.button,component:Y},"Upload",r.a.createElement(I.a,{className:a.rightIcon})))))},A=t(185),F=t(182),G=t.n(F),J=t(184),V=t.n(J),H=t(183),W=function(e){function a(e){var t;Object(o.a)(this,a);var n=e.files;return(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).savePanoImage=function(e,a){var t=a.current.getViewer(),n=t.getRenderer().render(t.getPitch()/180*Math.PI,t.getYaw()/180*Math.PI,t.getHfov()/180*Math.PI,{returnImage:!0});Object(H.saveAs)(n,e)},t.references=Array(n.length).fill(0).map(function(){return r.a.createRef()}),t}return Object(u.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.classes,n=a.files;return r.a.createElement(j.a,{fixed:!0},r.a.createElement(O.a,{container:!0,justify:"center",alignItems:"center",spacing:3},n.map(function(a,n){return r.a.createElement(O.a,{item:!0,xs:12,key:URL.createObjectURL(a)},r.a.createElement(N.a,{className:t.card},r.a.createElement(S.a,{title:a.name,subheader:r.a.createElement(G.a,{format:"D/M/YYYY"},a.lastModified),action:r.a.createElement(h.a,{"aria-label":"snapshot",onClick:function(){return e.savePanoImage(a.name,e.references[n])}},r.a.createElement(V.a,null))}),r.a.createElement(A.a,{ref:e.references[n],width:"100%",height:"500px",image:URL.createObjectURL(a),pitch:10,yaw:180,hfov:110,compass:!0,autoLoad:!0})))})))}}]),a}(n.Component),q=Object(R.a)(function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},iconSmall:{fontSize:20}}})(W),K=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={files:[]},t.handleChange=function(e){t.setState({files:e})},t.updateRow=function(e,a){var n=t.state.files,r=new File([n[a]],e.name);n.splice(a,1,r),t.setState({files:n})},t.removeRow=function(e){var a=t.state.files;a.splice(e,1),t.setState({files:a})},t}return Object(u.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props.classes,a=this.state.files;return r.a.createElement("div",{className:e.root},r.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),r.a.createElement(b,null),r.a.createElement("div",{className:e.content},r.a.createElement(P.b,null,r.a.createElement(T,{handleChange:this.handleChange,updateRow:this.updateRow,removeRow:this.removeRow,files:a,default:!0}),r.a.createElement(q,{files:a,path:"/viewer"}))))}}]),a}(n.Component),Q=Object(R.a)(function(e){return{root:{display:"flex",flexGrow:1},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100%",overflow:"auto"}}})(K);c.a.render(r.a.createElement(Q,null),document.getElementById("root"))}},[[203,1,2]]]);
//# sourceMappingURL=main.80d43681.chunk.js.map